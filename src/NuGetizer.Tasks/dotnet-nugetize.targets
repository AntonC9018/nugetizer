<!--
***********************************************************************************************
dotnet-nugetize.targets

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

Copyright (c) .NET Foundation. All rights reserved. 
***********************************************************************************************
-->
<Project>

  <Target Name="CopyFilesToOutputDirectory" />

  <Target Name="_WritePackageContents" Condition="'$(dotnet-nugetize)' != ''" AfterTargets="GetPackageContents">
    <ItemGroup>
      <NuspecFile Include="$(NuspecFile)" />
    </ItemGroup>    
    <ItemGroup>
      <PackageMetadata Update="@(PackageMetadata)" Nuspec="@(NuspecFile -> '%(FullPath)')" NuPkg="@(PackageTargetPath)" />
      <PackageContent Include="@(_PackageContent)" Exclude="@(PackageMetadata)" />
    </ItemGroup>
    <WriteItemsToFile Condition="'@(PackageMetadata)' != ''" Overwrite="false" Items="@(PackageMetadata)" ItemName="PackageMetadata" File="$(dotnet-nugetize)" />
    <WriteItemsToFile Condition="'@(PackageContent)' != ''" Overwrite="false" Items="@(PackageContent)" ItemName="PackageContent" File="$(dotnet-nugetize)" />
  </Target>

</Project>